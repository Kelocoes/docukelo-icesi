"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[1248],{7054:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>i,contentTitle:()=>c,default:()=>u,frontMatter:()=>a,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"computacion-3/semana-2/nodejs_event_loop","title":"Node JS","description":"Aspectos generales sobre Node JS, diferencias entre JavaScript, y su uso en el lado del servidor.","source":"@site/docs/computacion-3/semana-2/nodejs_event_loop.md","sourceDirName":"computacion-3/semana-2","slug":"/computacion-3/semana-2/nodejs_event_loop","permalink":"/docs/computacion-3/semana-2/nodejs_event_loop","draft":false,"unlisted":false,"editUrl":"https://github.com/Kelocoes/docukelo-icesi/tree/main/docs/computacion-3/semana-2/nodejs_event_loop.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"S2 - Node JS","permalink":"/docs/category/s2---node-js"},"next":{"title":"Slides Node JS","permalink":"/docs/computacion-3/semana-2/nodejs-slides"}}');var r=s(4848),l=s(8453);const a={sidebar_position:1},c="Node JS",i={},d=[{value:"\xbfQu\xe9 es Node JS?",id:"qu\xe9-es-node-js",level:2},{value:"Caracter\xedsticas clave",id:"caracter\xedsticas-clave",level:3},{value:"Diferencia con JavaScript en el navegador",id:"diferencia-con-javascript-en-el-navegador",level:3},{value:"\xbfC\xf3mo puede ser concurrente Node JS?",id:"c\xf3mo-puede-ser-concurrente-node-js",level:2},{value:"Event Loop",id:"event-loop",level:2},{value:"Fases del Event Loop (simplificadas):",id:"fases-del-event-loop-simplificadas",level:3},{value:"Microtasks vs Macrotasks",id:"microtasks-vs-macrotasks",level:3},{value:"\xbfQu\xe9 es un callback?",id:"qu\xe9-es-un-callback",level:2},{value:"Callback Hell",id:"callback-hell",level:3},{value:"Promesas",id:"promesas",level:2},{value:"Diferencia entre require/export y import/export",id:"diferencia-entre-requireexport-y-importexport",level:2},{value:"M\xf3dulos de Node JS",id:"m\xf3dulos-de-node-js",level:2},{value:"M\xf3dulo fs",id:"m\xf3dulo-fs",level:3},{value:"M\xf3dulo http",id:"m\xf3dulo-http",level:3},{value:"M\xf3dulo path",id:"m\xf3dulo-path",level:3},{value:"M\xf3dulo os",id:"m\xf3dulo-os",level:3},{value:"Ejemplo de process.nextTick()",id:"ejemplo-de-processnexttick",level:3},{value:"Caso de uso com\xfan: Manejo de errores",id:"caso-de-uso-com\xfan-manejo-de-errores",level:4},{value:"Informaci\xf3n o recursos adicionales",id:"informaci\xf3n-o-recursos-adicionales",level:2}];function t(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"node-js",children:"Node JS"})}),"\n",(0,r.jsx)(n.p,{children:"Aspectos generales sobre Node JS, diferencias entre JavaScript, y su uso en el lado del servidor."}),"\n",(0,r.jsx)(n.h2,{id:"qu\xe9-es-node-js",children:"\xbfQu\xe9 es Node JS?"}),"\n",(0,r.jsx)(n.p,{children:"Node.js es un entorno de ejecuci\xf3n de JavaScript construido sobre el motor V8 de Chrome. Permite ejecutar c\xf3digo JavaScript en el lado del servidor, fuera del navegador. Fue creado por Ryan Dahl en 2009 con el objetivo de crear aplicaciones altamente escalables y eficientes en el manejo de operaciones I/O (entrada/salida)."}),"\n",(0,r.jsx)(n.p,{children:"Por alg\xfan motivo ahora se usa Node y sus m\xf3dulos en el lado del servidor..."}),"\n",(0,r.jsx)(n.h3,{id:"caracter\xedsticas-clave",children:"Caracter\xedsticas clave"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Asincron\xeda y no bloqueo:"})," Node usa operaciones asincr\xf3nicas por defecto, lo que lo hace ideal para aplicaciones que manejan muchas solicitudes simult\xe1neas."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Single-threaded:"})," Aunque es de un solo hilo, puede manejar concurrencia mediante el Event Loop y delegar operaciones I/O a hilos del sistema mediante libuv."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Gran ecosistema:"})," Cuenta con npm, el mayor ecosistema de paquetes de c\xf3digo abierto."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"diferencia-con-javascript-en-el-navegador",children:"Diferencia con JavaScript en el navegador"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"En el navegador, JavaScript se ejecuta en el contexto del DOM."}),"\n",(0,r.jsxs)(n.li,{children:["En Node.js, no existe el DOM; se usan m\xf3dulos como ",(0,r.jsx)(n.code,{children:"fs"})," o ",(0,r.jsx)(n.code,{children:"http"})," para acceder al sistema de archivos o crear servidores."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"c\xf3mo-puede-ser-concurrente-node-js",children:"\xbfC\xf3mo puede ser concurrente Node JS?"}),"\n",(0,r.jsx)(n.p,{children:"Node.js es de un solo hilo (single-threaded), pero puede manejar concurrencia gracias a:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Event Loop:"})," Se encarga de gestionar las tareas asincr\xf3nicas y distribuirlas."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"libuv:"})," Biblioteca que provee un pool de hilos que permite ejecutar tareas bloqueantes (como acceder al disco o red) de manera no bloqueante para el hilo principal. Estos hilos no son de Node, m\xe1s bien son del sistema operativo."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Ejemplo:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"const fs = require('fs');\n\nconsole.log('Inicio');\n\nfs.readFile('archivo.txt', 'utf-8', (err, data) => {\n  if (err) throw err;\n  console.log('Contenido:', data);\n});\n\nconsole.log('Fin');\n"})}),"\n",(0,r.jsx)(n.h2,{id:"event-loop",children:"Event Loop"}),"\n",(0,r.jsx)(n.p,{children:"El Event Loop es el mecanismo que permite a Node.js ejecutar operaciones no bloqueantes, a pesar de ser single-threaded."}),"\n",(0,r.jsx)(n.h3,{id:"fases-del-event-loop-simplificadas",children:"Fases del Event Loop (simplificadas):"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Timers:"})," Ejecuta callbacks de ",(0,r.jsx)(n.code,{children:"setTimeout"})," y ",(0,r.jsx)(n.code,{children:"setInterval"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Pending callbacks:"})," Callbacks postergados por ciertas operaciones del sistema."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Idle/prepare:"})," Interno de Node."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Poll:"})," Recupera nuevos eventos, ejecuta I/O."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Check:"})," Ejecuta ",(0,r.jsx)(n.code,{children:"setImmediate()"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Close callbacks:"})," Ej. ",(0,r.jsx)(n.code,{children:"socket.on('close')"}),"."]}),"\n"]}),"\n",(0,r.jsx)("img",{src:"/img/event-loop.png",alt:"Event Loop"}),"\n",(0,r.jsx)("img",{src:"/img/event-loop-1.png",alt:"Event Loop 1"}),"\n",(0,r.jsx)(n.h3,{id:"microtasks-vs-macrotasks",children:"Microtasks vs Macrotasks"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Microtasks:"})," Promesas (",(0,r.jsx)(n.code,{children:"Promise.then"}),"), ",(0,r.jsx)(n.code,{children:"queueMicrotask"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Macrotasks:"})," ",(0,r.jsx)(n.code,{children:"setTimeout"}),", ",(0,r.jsx)(n.code,{children:"setInterval"}),", ",(0,r.jsx)(n.code,{children:"setImmediate"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Ejemplo:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"console.log('Inicio');\n\nsetTimeout(() => console.log('Timeout'), 0);\n\nPromise.resolve().then(() => console.log('Promesa'));\n\nconsole.log('Fin');\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Salida esperada:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Inicio\nFin\nPromesa\nTimeout\n"})}),"\n",(0,r.jsx)(n.h2,{id:"qu\xe9-es-un-callback",children:"\xbfQu\xe9 es un callback?"}),"\n",(0,r.jsx)(n.p,{children:"Un callback es una funci\xf3n que se pasa como argumento a otra funci\xf3n y que se ejecuta despu\xe9s de que esa funci\xf3n termina su trabajo."}),"\n",(0,r.jsx)(n.p,{children:"Ejemplo con callback:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"function saludar(nombre, callback) {\n  console.log(`Hola ${nombre}`);\n  callback();\n}\n\nsaludar('Kevin', () => {\n  console.log('Callback ejecutado');\n});\n"})}),"\n",(0,r.jsx)(n.h3,{id:"callback-hell",children:"Callback Hell"}),"\n",(0,r.jsx)(n.p,{children:'Cuando muchos callbacks se anidan, el c\xf3digo se vuelve ilegible. Esto se conoce como "callback hell".'}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"fs.readFile('archivo1.txt', 'utf-8', (err, data1) => {\n    if (err) throw err;\n    console.log('Archivo 1 le\xeddo');\n    \n    fs.readFile('archivo2.txt', 'utf-8', (err, data2) => {\n        if (err) throw err;\n        console.log('Archivo 2 le\xeddo');\n        \n        fs.readFile('archivo3.txt', 'utf-8', (err, data3) => {\n            if (err) throw err;\n            console.log('Archivo 3 le\xeddo');\n            \n            fs.readFile('archivo4.txt', 'utf-8', (err, data4) => {\n                if (err) throw err;\n                console.log('Archivo 4 le\xeddo');\n            });\n        });\n    });\n});\n"})}),"\n",(0,r.jsx)(n.h2,{id:"promesas",children:"Promesas"}),"\n",(0,r.jsx)(n.p,{children:"Una Promesa representa un valor que puede estar disponible ahora, en el futuro o nunca."}),"\n",(0,r.jsx)(n.p,{children:"Estados:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Pending"}),": en espera."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Fulfilled"}),": resuelta con \xe9xito."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Rejected"}),": fallida."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Ejemplo:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"const promesa = new Promise((resolve, reject) => {\n  setTimeout(() => resolve('Hecho!'), 1000);\n});\n\npromesa.then(res => console.log(res));\n"})}),"\n",(0,r.jsx)(n.p,{children:"Con async/await:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"async function saludar() {\n  const resultado = await promesa;\n  console.log(resultado);\n}\n\nsaludar();\n"})}),"\n",(0,r.jsx)(n.h2,{id:"diferencia-entre-requireexport-y-importexport",children:"Diferencia entre require/export y import/export"}),"\n",(0,r.jsx)(n.p,{children:"En Node.js, existen dos sistemas de m\xf3dulos:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"CommonJS"}),": Usa ",(0,r.jsx)(n.code,{children:"require"})," y ",(0,r.jsx)(n.code,{children:"module.exports"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"ES6 Modules"}),": Usa ",(0,r.jsx)(n.code,{children:"import"})," y ",(0,r.jsx)(n.code,{children:"export"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Esto se debe a que Node.js fue creado antes de que los m\xf3dulos ES6 fueran estandarizados."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"const fs = require('fs'); // CommonJS\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"import fs from 'fs'; // ES6 Modules\n"})}),"\n",(0,r.jsx)(n.h2,{id:"m\xf3dulos-de-node-js",children:"M\xf3dulos de Node JS"}),"\n",(0,r.jsx)(n.h3,{id:"m\xf3dulo-fs",children:"M\xf3dulo fs"}),"\n",(0,r.jsx)(n.p,{children:"Permite trabajar con el sistema de archivos."}),"\n",(0,r.jsx)(n.p,{children:"Ejemplo:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"const fs = require('fs');\n\nfs.readFile('archivo.txt', 'utf-8', (err, data) => {\n  if (err) throw err;\n  console.log(data);\n});\n"})}),"\n",(0,r.jsx)(n.h3,{id:"m\xf3dulo-http",children:"M\xf3dulo http"}),"\n",(0,r.jsx)(n.p,{children:"Permite crear servidores HTTP."}),"\n",(0,r.jsx)(n.p,{children:"Ejemplo:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"const http = require('http');\n\nconst server = http.createServer((req, res) => {\n  res.writeHead(200, { 'Content-Type': 'text/plain' });\n  res.end('Hola desde Node.js');\n});\n\nserver.listen(3000, () => console.log('Servidor en puerto 3000'));\n"})}),"\n",(0,r.jsx)(n.h3,{id:"m\xf3dulo-path",children:"M\xf3dulo path"}),"\n",(0,r.jsx)(n.p,{children:"Permite trabajar con rutas de archivos."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"const path = require('path');\n\nconst ruta = path.join(__dirname, 'archivo.txt');\nconsole.log(ruta);\n"})}),"\n",(0,r.jsx)(n.h3,{id:"m\xf3dulo-os",children:"M\xf3dulo os"}),"\n",(0,r.jsx)(n.p,{children:"Provee informaci\xf3n del sistema operativo."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"const os = require('os');\n\nconsole.log('Sistema operativo:', os.platform());\nconsole.log('Memoria libre:', os.freemem());\nconsole.log('CPUs:', os.cpus());\n"})}),"\n",(0,r.jsx)(n.h3,{id:"ejemplo-de-processnexttick",children:"Ejemplo de process.nextTick()"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"process.nextTick()"})," permite ejecutar c\xf3digo de forma as\xedncrona en la pr\xf3xima iteraci\xf3n del event loop, antes que cualquier otro evento as\xedncrono:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"console.log('Inicio del programa');\n\n// Se ejecuta inmediatamente\nconsole.log('1. C\xf3digo s\xedncrono');\n\n// Se ejecuta en la siguiente iteraci\xf3n del event loop\nprocess.nextTick(() => {\n    console.log('3. nextTick callback');\n});\n\n// Se ejecuta despu\xe9s de nextTick\nsetTimeout(() => {\n    console.log('4. setTimeout callback');\n}, 0);\n\nconsole.log('2. Final del c\xf3digo s\xedncrono');\n\n// Salida:\n// Inicio del programa\n// 1. C\xf3digo s\xedncrono\n// 2. Final del c\xf3digo s\xedncrono\n// 3. nextTick callback\n// 4. setTimeout callback\n"})}),"\n",(0,r.jsx)(n.h4,{id:"caso-de-uso-com\xfan-manejo-de-errores",children:"Caso de uso com\xfan: Manejo de errores"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"function asyncFunction(callback) {\n    if (typeof callback !== 'function') {\n        // Usar nextTick para manejar errores de forma as\xedncrona\n        process.nextTick(() => {\n            throw new TypeError('Callback debe ser una funci\xf3n');\n        });\n        return;\n    }\n    \n    // Simular operaci\xf3n as\xedncrona\n    process.nextTick(callback);\n}\n\n// Uso\nasyncFunction(() => {\n    console.log('Callback ejecutado correctamente');\n});\n"})}),"\n",(0,r.jsx)(n.h2,{id:"informaci\xf3n-o-recursos-adicionales",children:"Informaci\xf3n o recursos adicionales"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://www.jsv9000.app",children:"Event loop example"})}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(t,{...e})}):t(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>c});var o=s(6540);const r={},l=o.createContext(r);function a(e){const n=o.useContext(l);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),o.createElement(l.Provider,{value:n},e.children)}}}]);